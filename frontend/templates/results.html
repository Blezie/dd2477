{% extends "base.html" %}

{% block title %}Search Results{% endblock %}

{% block content %}
    <h1>Search Results for "{{ query }}" with "{{ option }}":</h1>
    {% if results %}
        <p>Number of results: {{ num_results }}</p>
        <a href="/">New search</a>
        <ul>
        {% for result in results %}
            <li>
                <strong>{{ result['title'] }}</strong>
                <p>{{ result['description'] }}</p>
                <p>Book ID: {{ result['legacyId'] }}</p>
                <p>Genres: {{', '.join(result.get('genres'))}}</p>
                <p>Average Rating: {{result.get('averageRating', 'N/A')}}</p>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No results found.</p>
    {% endif %}

    {% if num_results >= 10 %}
    <a href="/">New search</a>
    {% endif %}

{% endblock %}
